!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);class o{beforeSplitCode(e){return e}beforeJoinCode(e){return e.flatMap(e=>e.replace(/(#.*$)/,"<nobokko-prittyprint-comment>$1</nobokko-prittyprint-comment>"))}}class r extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){this.rewrite()}static get observedAttributes(){return["display-line","extension","no-break-line"]}attributeChangedCallback(e,n,t){switch(e){case"display-line":"false"!=(null!=n?n:"true").toLowerCase()!=("false"!=(null!=t?t:"true").toLowerCase())&&this.rewrite();break;case"no-break-line":"false"!=(null!=n?n:"false").toLowerCase()!=("false"!=(null!=t?t:"false").toLowerCase())&&this.rewrite();break;case"extension":(null!=n?n:"txt")!=(null!=t?t:"txt")&&this.rewrite()}}rewrite(){var e,n,t,r,i;const l=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow({mode:"open"});l.innerHTML='\n<style>\nroot{\n    display: block;\n    color: #000000;\n    background-color: #ff88ff;\n    border-radius: 1em;\n    box-shadow: 0 1em 1em 0 rgba(255, 255, 255, .2);\n    padding:1em;\n    margin: 1em;\n}\nh1 {\n    margin:0;\n}\ndiv#source {\n    color: #ffffff;\n    background-color: #000000;\n    border-radius: 1em;\n    box-shadow: 0 1em 1em 0 rgba(0, 0, 64, .2);\n    padding:1em;\n    overflow: auto;\n}\n::slotted([slot="source"]) {\n    white-space : pre;\n}\n#source {\n    counter-reset: line;\n}\nnobokko-prittyprint-comment {\n    color: #408080;\n}\nnobokko-prittyprint-line {\n    display: block;\n    position: relative;\n    padding: 0 0 0 5em;\n    font-family: Consolas, \'Courier New\', Courier, Monaco, monospace;\n    word-break: break-all;\n    white-space: normal;\n}\nnobokko-prittyprint-line:before {\n    font-size: 1em;\n    counter-increment: line;\n    content: "" attr(data-display-prefix) "";\n    margin: 0 1em 0 0;\n    padding: 0 1em 0 0;\n    width: 3em;\n    display:inline-block;\n    position: absolute;\n    height: 100%;\n    left: 0;\n    text-align: right;\n}\nnobokko-prittyprint-line:first-of-type,\nnobokko-prittyprint-line:first-of-type:before {\n    border-radius: 1em 0 0 0;\n}\nnobokko-prittyprint-line:last-of-type,\nnobokko-prittyprint-line:last-of-type:before {\n    border-radius: 0 0 0 1em;\n}\nnobokko-prittyprint-line:nth-child(odd) {\n    background-color: #222222;\n}\nnobokko-prittyprint-line:nth-child(even) {\n    background-color: #111111;\n}\nnobokko-prittyprint-line:nth-child(odd):before {\n    background-color: #444444;\n}\nnobokko-prittyprint-line:nth-child(even):before {\n    background-color: #333333;\n}\n</style>\n<root>\n<h1><slot name="filename">filename</slot></h1>\n<div id="source">\n<slot name="source" style="display:none;"></slot>\n</div>\n</root>\n';for(let e of l.styleSheets)for(let n of e.cssRules)if(n instanceof CSSStyleRule){let e=n;"nobokko-prittyprint-line"==e.selectorText&&(this.noBreakLine?(e.style.wordBreak="normal",e.style.whiteSpace="nowrap"):(e.style.wordBreak="break-all",e.style.whiteSpace="normal"))}let a={};a.yml=new o,a.yaml=new o;let s=document.createElement("div"),u=this.source;u=u.replace(/^[ \t]*\n/,"").replace(/\n[ \t]*$/,"").replace(/&lt;/g,"<"),u=null!==(t=null===(n=a[this.extension])||void 0===n?void 0:n.beforeSplitCode(u))&&void 0!==t?t:u;let d=u.split("\n");d=(e=>{let n=Number.MAX_SAFE_INTEGER;return e.flatMap(e=>{let n=document.createElement("div");return n.innerText=e,n.innerHTML}).flatMap(e=>{var t,o;if(e.length){let r=null!==(o=null===(t=/^( +)/.exec(e))||void 0===t?void 0:t[1].length)&&void 0!==o?o:0;r<n&&(n=r)}return e}).flatMap(e=>e.replace(new RegExp(`^ {${n}}`),"")).flatMap(e=>e.replace(/^$/,"&nbsp;")).flatMap(e=>e.replace(/ /g,"&nbsp;"))})(d),d=null!==(i=null===(r=a[this.extension])||void 0===r?void 0:r.beforeJoinCode(d))&&void 0!==i?i:d,s.innerHTML=d.flatMap((e,n)=>`<nobokko-prittyprint-line data-line="${n+1}"${this.displayLine?` data-display-prefix="${n+1}"`:""}>`+e+"</nobokko-prittyprint-line>").join("\n"),l.querySelectorAll("#source").forEach(e=>{e.appendChild(s)})}get displayLine(){var e;return"false"!=(null!==(e=this.getAttribute("display-line"))&&void 0!==e?e:"true").toLowerCase()}set displayLine(e){var n;"false"!=(null!==(n=this.getAttribute("display-line"))&&void 0!==n?n:"true").toLowerCase()!=e&&this.setAttribute("display-line",e?"true":"false")}get noBreakLine(){var e;return"false"!=(null!==(e=this.getAttribute("no-break-line"))&&void 0!==e?e:"false").toLowerCase()}set noBreakLine(e){var n;"false"!=(null!==(n=this.getAttribute("no-break-line"))&&void 0!==n?n:"true").toLowerCase()!=e&&this.setAttribute("no-break-line",e?"true":"false")}get extension(){var e;return(null!==(e=this.getAttribute("extension"))&&void 0!==e?e:"txt").toLocaleLowerCase()}set extension(e){var n;(null!==(n=this.getAttribute("extension"))&&void 0!==n?n:"txt")!=e&&this.setAttribute("extension",null!=e?e:"txt")}get source(){var e,n,t,o;let r=null!==(n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelectorAll('slot[name="source"]')[0])&&void 0!==n?n:document.createElement("slot");return null!==(o=null===(t=null==r?void 0:r.assignedElements()[0])||void 0===t?void 0:t.innerText)&&void 0!==o?o:""}get filename(){var e,n,t,o;let r=null!==(n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelectorAll('slot[name="filename"]')[0])&&void 0!==n?n:document.createElement("slot");return null!==(o=null===(t=null==r?void 0:r.assignedElements()[0])||void 0===t?void 0:t.innerText)&&void 0!==o?o:""}}customElements.define("nobokko-prettyprint",r)}]);
//# sourceMappingURL=NobokkoPrittyprint.js.map